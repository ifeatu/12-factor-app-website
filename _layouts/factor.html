---
layout: default
---

<div class="factor-page">
    <!-- Factor Header -->
    <div class="factor-header">
        <div class="container">
            <div class="factor-nav">
                <a href="{{ '/' | relative_url }}" class="back-link" aria-label="Back to overview page">
                    <i class="fas fa-arrow-left" aria-hidden="true"></i> Back to Overview
                </a>
                
                <nav class="factor-navigation" aria-label="Factor navigation">
                    {% if page.prev_factor %}
                        <a href="{{ page.prev_factor.url | relative_url }}" class="nav-btn prev-btn" aria-label="Previous factor: {{ page.prev_factor.name }}">
                            <i class="fas fa-chevron-left" aria-hidden="true"></i> Previous
                        </a>
                    {% endif %}
                    
                    {% if page.next_factor %}
                        <a href="{{ page.next_factor.url | relative_url }}" class="nav-btn next-btn" aria-label="Next factor: {{ page.next_factor.name }}">
                            Next <i class="fas fa-chevron-right" aria-hidden="true"></i>
                        </a>
                    {% endif %}
                </nav>
            </div>
            
            <div class="factor-title">
                {% assign title_parts = page.title | split: ':' %}
                {% if title_parts.size > 1 %}
                    <div class="factor-number-circle">{{ page.factor_number }}</div>
                    <h1 class="factor-name">{{ title_parts[1] | strip }}</h1>
                {% else %}
                    <h1 class="factor-name">{{ page.title }}</h1>
                {% endif %}
                
                {% if page.description %}
                    <p class="factor-description">{{ page.description }}</p>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Factor Content -->
    <div class="factor-content">
        <div class="container">
            <div class="content-wrapper">
                <!-- Table of Contents -->
                <aside class="toc-sidebar" role="complementary" aria-label="Table of contents">
                    <div class="toc-container">
                        <h3>Table of Contents</h3>
                        <div id="toc"></div>
                    </div>
                </aside>
                
                <!-- Main Content -->
                <article class="factor-article" role="main">
                    {{ content }}
                    
                    <!-- Factor Navigation Footer -->
                    <nav class="factor-footer-nav" aria-label="Factor pagination">
                        {% if page.prev_factor %}
                            {% if page.prev_factor.url %}
                                <a href="{{ page.prev_factor.url | relative_url }}" class="footer-nav-btn prev" aria-label="Previous: Factor {{ page.prev_factor.number }} - {{ page.prev_factor.name }}">
                                    <div class="nav-direction">Previous Factor</div>
                                    <div class="nav-title">Factor {{ page.prev_factor.number }}: {{ page.prev_factor.name }}</div>
                                </a>
                            {% endif %}
                        {% endif %}
                        
                        {% if page.next_factor %}
                            {% if page.next_factor.url %}
                                <a href="{{ page.next_factor.url | relative_url }}" class="footer-nav-btn next" aria-label="Next: Factor {{ page.next_factor.number }} - {{ page.next_factor.name }}">
                                    <div class="nav-direction">Next Factor</div>
                                    <div class="nav-title">Factor {{ page.next_factor.number }}: {{ page.next_factor.name }}</div>
                                </a>
                            {% endif %}
                        {% endif %}
                    </nav>
                </article>
            </div>
        </div>
    </div>
</div>

<!-- Progress Indicator -->
<div class="progress-container">
    <div class="progress-bar" id="progress-bar"></div>
</div>